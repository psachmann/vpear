using System;
using System.Collections.Generic;
using System.Linq;
using VPEAR.Core.Extensions;
using VPEAR.Core.Wrappers;

public static class Data
{
    public static IList<GetFrameResponse> CreateHistory()
    {
        var seed = DateTimeOffset.Now;
        var frequency = TimeSpan.FromSeconds(10f);
        var count = 1000;
        var timestamps = CreateTimestamps(seed, frequency, count);

        return timestamps.Select(timestamp => new GetFrameResponse()
        {
            Filter = new GetFiltersResponse()
            {
                Noise = true,
                Smooth = true,
                Spot = true,
            },
            Readings = GetReadings(),
            Time = timestamp,
        }).ToList();
    }

    public static IList<GetSensorResponse> CreateSensors()
    {
        var sensors = new List<GetSensorResponse>();

        sensors.Add(new GetSensorResponse()
        {
            Columns = 27,
            Height = 180,
            Maximum = 100,
            Minimum = 0,
            Name = "BodiTrak2 Pro",
            Rows = 64,
            Units = "mmhg",
            Width = 80,
        });

        return sensors;
    }

    private static IEnumerable<DateTimeOffset> CreateTimestamps(DateTimeOffset seed, TimeSpan delta, int count)
    {
        var result = new List<DateTimeOffset>();

        for (var i = 0; i < count; i++)
        {
            result.Add(seed);
            seed += delta;
        }

        return result;
    }

    public static IList<IList<int>> GetReadings()
    {
        var values = Sample1.FromJsonString<IList<int>>();
        var readings = new List<IList<int>>();

        for (var i = 0; i < values.Count; i += 27)
        {
            var temp = new List<int>(values
                .Skip(i)
                .Take(27));

            readings.Add(temp);
        }

        return readings;
    }

    // This is the json data array from the file Assets/Json/sample1.json
    // because System.IO is not available on the smart-phone.
    private static readonly string Sample1 = @"
        [
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,11,0,0,0,0,0,0,0,0,0,0,0,13,62,2,4,0,0,0,0,0,0,0,0,0,0,
            0,70,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,
            0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,6,1,1,1,7,14,23,19,5,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,18,100,31,22,16,28,44,100,34,15,4,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,18,100,61,22,11,16,27,43,16,3,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,5,38,50,18,14,17,30,28,5,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,52,23,18,23,37,25,
            2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,30,28,24,31,37,
            18,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,41,29,45,
            39,20,8,4,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,18,
            29,26,12,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,
            9,4,10,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,18,29,40,42,43,63,40,
            17,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,23,55,65,100,100,
            100,100,78,45,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,29,56,
            73,100,100,100,100,81,58,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,2,23,59,65,100,79,70,83,78,55,11,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,18,56,67,100,63,64,85,95,60,8,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,9,33,36,34,28,12,22,43,50,2,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,24,24,8,7,0,0,1,6,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,9,5,0,0,0,0,0,0,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,14,24,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,14,12,0,0,0,0,0,0,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
            0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
        ]";
}
